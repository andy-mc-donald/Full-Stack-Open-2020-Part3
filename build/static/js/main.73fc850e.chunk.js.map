{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/people.js","components/Notification.js","App.js","index.js"],"names":["Filter","newSearch","handleSearchChange","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Persons","person","onClick","name","number","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Notification","successMessage","errorMessage","className","App","useState","persons","setPersons","setNewSearch","setNewName","setNewNumber","showAll","setShowAll","setSuccessMessage","setErrorMessage","useEffect","peopleService","allPeople","personsToShow","filter","x","toUpperCase","includes","e","target","length","event","preventDefault","personObject","find","window","confirm","returnedPerson","map","setTimeout","catch","error","p","update","concat","key","selected","handleDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.73fc850e.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({newSearch, handleSearchChange}) => {\n  return (\n    <div>\n      Filter shown with:\n      <input value={newSearch} onChange={handleSearchChange} />\n    </div>\n  );\n};\n\nexport default Filter; ","import React from \"react\";\n\nconst PersonForm = ({\n  addPerson,\n  newName,\n  handleNameChange,\n  newNumber,\n  handleNumberChange,\n}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name:\n        <input value={newName} onChange={handleNameChange} type=\"text\" />\n      </div>\n      <div>\n        number:\n        <input value={newNumber} onChange={handleNumberChange} type=\"number\" />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Persons = ({person, onClick}) => {\n    return (\n          <li>\n            {person.name} {person.number} <button onClick={onClick}>delete</button>\n          </li>\n    )\n}\n\nexport default Persons;","import axios from \"axios\";\n// const baseUrl = \"http://localhost:3001/api/persons\";\n// const baseUrl = \"https://evening-sea-35898.herokuapp.com/api/persons\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject);\n    return request.then(response => response.data);\n}\n\nconst remove = id => {\n    const request = axios.delete(`${baseUrl}/${id}`);\n    return request.then(response => response.data);\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject);\n    return request.then(response => response.data);\n}\n\nexport default { getAll, create, remove, update }","import React from \"react\";\n\nconst Notification = ({ successMessage, errorMessage }) => {\n    return(\n      <>\n      {successMessage && <div className=\"success\">{successMessage}</div> }\n      {errorMessage && <div className=\"error\">{errorMessage}</div>}\n      </>\n    )\n  }\n\n  export default Notification;","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport peopleService from \"./services/people\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newSearch, setNewSearch] = useState(\"\");\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [showAll, setShowAll] = useState(true);\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    peopleService.getAll().then((allPeople) => {\n      setPersons(allPeople);\n    });\n  }, []);\n  // console.log(\"render\", persons.length, \"people\");\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    const add = () => {\n      peopleService\n      .create(personObject)\n      .then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setSuccessMessage(`Added ${newName}`)\n        setTimeout(()=> {\n          setSuccessMessage(null)\n        }, 3000)\n      })\n      .catch(error => {\n        // console.log(error.response.data.error)\n        setErrorMessage(error.response.data.error);\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setTimeout(()=> {\n          setErrorMessage(null)\n        }, 5000)\n      })\n    };\n\n    const update = () => {\n      const duplicate = persons.find(\n        (person) => person.name.toUpperCase() === newName.toUpperCase()\n      );\n      const id = duplicate.id;\n      peopleService\n      .update(id, personObject)\n      .then((returnedPerson) => {\n        setPersons(\n          persons.map((person) => (person.id !== id ? person : returnedPerson))\n        );\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setSuccessMessage(`Changed ${newName}'s number`)\n        setTimeout(()=> {\n          setSuccessMessage(null)\n        }, 3000)\n      })\n      .catch(error => {\n        setErrorMessage(`Info about ${newName} has already been removed from the server`);\n        setTimeout(()=> {\n          setErrorMessage(null)\n        }, 3000);\n        setPersons(persons.filter(p => p.id !== id));\n        setNewName(\"\");\n        setNewNumber(\"\");\n      })\n    };\n\n    const confirm = () => {\n      if (window.confirm(`${newName} is already added to phonebook, replace old number with a new one?`)){\n        update();\n      } else {\n        setNewName(\"\");\n        setNewNumber(\"\");\n        return;\n      }\n    };\n\n    persons.find((x) => x.name.toUpperCase() === newName.toUpperCase())\n      ? confirm()\n      : add();\n  };\n\n  const handleSearchChange = (e) => {\n    // console.log(e.target.value);\n    setNewSearch(e.target.value);\n    e.target.value.length === 0 ? setShowAll(true) : setShowAll(false);\n  };\n\n  const handleNameChange = (event) => {\n    // console.log(event.target.value);\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    // console.log(event.target.value);\n    setNewNumber(event.target.value);\n  };\n\n  const personsToShow = showAll\n    ? persons\n    : persons.filter((x) =>\n        x.name.toUpperCase().includes(newSearch.toUpperCase())\n      );\n\n  const handleDelete = (id) => {\n    const selected = persons.find((person) => person.id === id);\n    if (!window.confirm(`Delete ${selected.name}?`)) {\n      return;\n    }\n    peopleService.remove(id);\n    setPersons(persons.filter((person) => person.id !== id));\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification successMessage={successMessage} errorMessage={errorMessage} />\n      <Filter newSearch={newSearch} handleSearchChange={handleSearchChange} />\n\n      <h2>Add a new...</h2>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h2>Numbers</h2>\n      <ul>\n        {personsToShow.map((person) => (\n          <Persons\n            key={person.id}\n            person={person}\n            onClick={() => handleDelete(person.id)}\n          />\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}